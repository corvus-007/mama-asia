var myPolygon;

window.deliveryMap = (function(window, $) {
  'use strict';

  var dirname = '/';

  var mapElem = document.querySelector('#delivery-map');

  if (!mapElem) {
    return;
  }

  mapElem.classList.remove('.contact__map--no-js');

  ymaps.ready(function() {
    var map = new ymaps.Map(mapElem, {
      center: [53.276145, 34.315436],
      zoom: 13,
      controls: ['zoomControl']
    });

    map.behaviors.disable(['scrollZoom']);
    var myPlacemark = new ymaps.Placemark(
      [53.276145, 34.315436],
      {
        hintContent:
          'г. Брянск, ул. Объездная, 30, ТРЦ «АэроПарк» 2&#8209;й этаж, зона ФудКорта'
      },
      {
        iconLayout: 'default#image',
        iconImageHref: dirname + 'images/icon-map-pin.svg',
        iconImageSize: [54, 54],
        iconImageOffset: [-25, -54]
      }
    );

    // Создаем многоугольник, используя вспомогательный класс Polygon.
    myPolygon = new ymaps.Polygon(
      [
        [
          [53.2616848, 34.3069522],
          [53.2579189, 34.3150373],
          [53.2570915, 34.3144003],
          [53.2568794, 34.3188354],
          [53.2567087, 34.3224055],
          [53.2558762, 34.3262256],
          [53.253924, 34.3250424],
          [53.2539554, 34.3233109],
          [53.253646, 34.3231002],
          [53.2492447, 34.3201032],
          [53.2484438, 34.3232264],
          [53.2475399, 34.322521],
          [53.2421469, 34.3183121],
          [53.2379241, 34.3150169],
          [53.2358138, 34.3150868],
          [53.2347258, 34.3151229],
          [53.2339127, 34.317224],
          [53.2306899, 34.3130344],
          [53.2301438, 34.3148868],
          [53.23012, 34.3149674],
          [53.2293646, 34.314595],
          [53.2282031, 34.3140353],
          [53.2277223, 34.3149343],
          [53.2257347, 34.3132925],
          [53.224389, 34.3183349],
          [53.224178, 34.3182601],
          [53.2239595, 34.3178179],
          [53.223657, 34.3175559],
          [53.223332, 34.3179934],
          [53.222556, 34.3177009],
          [53.2227606, 34.3170242],
          [53.2230557, 34.316154],
          [53.2211332, 34.316197],
          [53.2205429, 34.3151697],
          [53.2200714, 34.3150158],
          [53.2197518, 34.3181256],
          [53.2192453, 34.3189679],
          [53.2193287, 34.3197569],
          [53.2195086, 34.3198444],
          [53.2197263, 34.3219534],
          [53.2203143, 34.323038],
          [53.2220062, 34.3255441],
          [53.2189288, 34.3546131],
          [53.2174492, 34.3553637],
          [53.2170035, 34.3555898],
          [53.2174911, 34.3572106],
          [53.2176467, 34.3580253],
          [53.2180635, 34.360208],
          [53.2203801, 34.3614927],
          [53.2219218, 34.362815],
          [53.2243261, 34.3656205],
          [53.2248328, 34.3673108],
          [53.2254735, 34.3678169],
          [53.2257153, 34.3676507],
          [53.2261732, 34.3671894],
          [53.2272607, 34.3679094],
          [53.228336, 34.3683778],
          [53.2307355, 34.3688352],
          [53.2330991, 34.3698921],
          [53.2341908, 34.3708791],
          [53.2343335, 34.3713111],
          [53.2344398, 34.3718491],
          [53.2344349, 34.3721258],
          [53.234353, 34.3724104],
          [53.2343283, 34.372908],
          [53.2346328, 34.3736602],
          [53.2347717, 34.3737966],
          [53.2349388, 34.3738417],
          [53.2350734, 34.3739248],
          [53.2351675, 34.3740676],
          [53.2352932, 34.3744115],
          [53.2353567, 34.3747485],
          [53.2353493, 34.3752347],
          [53.2353767, 34.3755243],
          [53.2353829, 34.3757742],
          [53.2353356, 34.3760729],
          [53.2352522, 34.3762859],
          [53.2396912, 34.3792296],
          [53.2396573, 34.379632],
          [53.2395331, 34.3811066],
          [53.2392449, 34.3845293],
          [53.2391997, 34.3850665],
          [53.2391859, 34.3852309],
          [53.2390782, 34.38651],
          [53.2390676, 34.3866356],
          [53.238953, 34.3884142],
          [53.2389064, 34.3895823],
          [53.2389922, 34.3904931],
          [53.2391853, 34.3913249],
          [53.2394872, 34.3922811],
          [53.2398662, 34.3927998],
          [53.2404949, 34.3937402],
          [53.2405659, 34.3938464],
          [53.2420322, 34.3956907],
          [53.2447878, 34.3994339],
          [53.2454902, 34.4003881],
          [53.246059, 34.4011763],
          [53.2515739, 34.4088184],
          [53.2534235, 34.4112035],
          [53.253572, 34.4113951],
          [53.2539711, 34.4118711],
          [53.2547561, 34.41255],
          [53.255151, 34.4126869],
          [53.2554132, 34.412703],
          [53.2555921, 34.4126992],
          [53.2558024, 34.4126652],
          [53.2558444, 34.4123891],
          [53.2582394, 34.3921336],
          [53.2608171, 34.3952365],
          [53.2605584, 34.3932337],
          [53.2604539, 34.3898735],
          [53.2632648, 34.3867193],
          [53.2660755, 34.3838439],
          [53.2687319, 34.3822371],
          [53.2693055, 34.3813262],
          [53.2711597, 34.3783814],
          [53.274079, 34.3726507],
          [53.2757475, 34.3676242],
          [53.2765803, 34.3663848],
          [53.2773381, 34.3660923],
          [53.2781278, 34.3655638],
          [53.2784675, 34.3645021],
          [53.2784415, 34.3632546],
          [53.2785445, 34.3620238],
          [53.2789913, 34.3603738],
          [53.2796813, 34.3591545],
          [53.2795215, 34.3578235],
          [53.2795102, 34.3545619],
          [53.2801979, 34.3518679],
          [53.2803917, 34.3508271],
          [53.281614, 34.3474428],
          [53.2825114, 34.344151],
          [53.280539, 34.3438785],
          [53.2776507, 34.3380158],
          [53.2784398, 34.3335474],
          [53.2774789, 34.3329986],
          [53.2776507, 34.3320056],
          [53.277932, 34.3317051],
          [53.2782132, 34.3307906],
          [53.2783342, 34.3264809],
          [53.2780379, 34.3248309],
          [53.2778531, 34.3245646],
          [53.2775243, 34.3174058],
          [53.2757884, 34.3119736],
          [53.2723909, 34.3072741],
          [53.267165, 34.3120404],
          [53.2647632, 34.3120404],
          [53.2636424, 34.3090065],
          [53.2627338, 34.3081819],
          [53.2616848, 34.3069522]
        ]
      ],
      {
        // Описываем свойства геообъекта.
        // Содержимое балуна.
        hintContent: 'Советский район'
      },
      {
        // Задаем опции геообъекта.
        // Цвет заливки.
        fillColor: '#ffbc53',
        fillOpacity: 0.25,
        openEmptyBalloon: true,
        // Ширина обводки.
        strokeWidth: 0
        // draggable: true
      }
    );

    map.geoObjects.add(myPlacemark);
    map.geoObjects.add(myPolygon);
    // myPolygon.editor.startDrawing();
  });
})(window, jQuery);
